(this["webpackJsonpcolony-event-list"]=this["webpackJsonpcolony-event-list"]||[]).push([[0],{176:function(e,n,t){e.exports={app:"App_app__2ziFi"}},182:function(e,n,t){},197:function(e,n){},212:function(e,n){},214:function(e,n){},225:function(e,n){},227:function(e,n){},254:function(e,n){},256:function(e,n){},257:function(e,n){},262:function(e,n){},264:function(e,n){},270:function(e,n){},272:function(e,n){},291:function(e,n){},303:function(e,n){},306:function(e,n){},364:function(e,n,t){"use strict";t.r(n);var a,r=t(1),c=t.n(r),s=t(72),o=t.n(s),i=(t(182),t(54)),u=i.c,l=t(5),d=t.n(l),j=t(18),v=t(55),b=t(177),m=t(16),p=t(14),f=t(174),O=t(28),x=new O.BigNumber(10).pow(18),h={"0x0dd7b8f3d1fa88FAbAa8a04A0c7B52FC35D4312c":"\u0392LNY","0x6B175474E89094C44Da98b954EedeAC495271d0F":"DAI"},y=function(){var e=Object(j.a)(d.a.mark((function e(){var n,t,a,r,c,s,o,i,u,l,j,v,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.InfuraProvider,t=p.Wallet.createRandom(),a=t.connect(n),e.next=5,Object(m.getColonyNetworkClient)(m.Network.Mainnet,a,{networkAddress:"0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef"});case 5:return r=e.sent,e.next=8,r.getColonyClient("0x869814034d96544f3C62DE2aC22448ed79Ac8e70");case 8:return c=e.sent,e.next=11,Promise.all([g(c,n),w(c,n),N(c,n),k(c,n)]);case 11:return s=e.sent,o=Object(b.a)(s,4),i=o[0],u=o[1],l=o[2],j=o[3],v=[].concat(i).concat(u).concat(l).concat(j),O=v.sort((function(e,n){return n.logTime-e.logTime})),e.abrupt("return",O);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(n,t){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filters.ColonyInitialised(null,null),e.next=3,Object(m.getLogs)(n,r);case 3:return c=e.sent,e.next=6,Promise.all(c.map(function(){var e=Object(j.a)(d.a.mark((function e(n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.getBlockTime)(t,null!==(r=n.blockHash)&&void 0!==r?r:"");case 2:return c=e.sent,e.abrupt("return",{id:"ColonyInitialised-".concat(n.blockHash,"-").concat(n.logIndex),colonyAddress:n.address,eventType:a.ColonyInitialised,logTime:c});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(n,t){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filters.ColonyRoleSet(null,null,null,null),e.next=3,Object(m.getLogs)(n,r);case 3:return c=e.sent,e.next=6,Promise.all(c.map(function(){var e=Object(j.a)(d.a.mark((function e(r){var c,s,o,i,u,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.interface.parseLog(r),o=s.values,i=o.user,u=o.role,l=new O.BigNumber(s.values.domainId),e.next=5,Object(m.getBlockTime)(t,null!==(c=r.blockHash)&&void 0!==c?c:"");case 5:return j=e.sent,e.abrupt("return",{id:"ColonyRoleSet-".concat(r.blockHash,"-").concat(r.logIndex),colonyAddress:r.address,eventType:a.ColonyRoleSet,role:m.ColonyRole[u],userAddress:i,domainId:l.toString(),logTime:j});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(n,t){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filters.PayoutClaimed(null,null,null),e.next=3,Object(m.getLogs)(n,r);case 3:return c=e.sent,e.next=6,Promise.all(c.map(function(){var e=Object(j.a)(d.a.mark((function e(r){var c,s,o,i,u,l,j,v,b,p,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.interface.parseLog(r),i=o.values.token,u=new O.BigNumber(o.values.amount).div(x),l=new O.BigNumber(o.values.fundingPotId),e.next=6,n.getFundingPot(l);case 6:return j=e.sent,v=j.associatedTypeId,e.next=10,n.getPayment(v);case 10:return b=e.sent,p=b.recipient,e.next=14,Object(m.getBlockTime)(t,null!==(c=r.blockHash)&&void 0!==c?c:"");case 14:return f=e.sent,e.abrupt("return",{id:"PayoutClaimed-".concat(r.blockHash,"-").concat(r.logIndex),colonyAddress:r.address,eventType:a.PayoutClaimed,userAddress:p,amount:u.toString(),token:null!==(s=h[i])&&void 0!==s?s:" ".concat(i),fundingPotId:l.toString(),logTime:f});case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(n,t){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filters.DomainAdded(null),e.next=3,Object(m.getLogs)(n,r);case 3:return c=e.sent,e.next=6,Promise.all(c.map(function(){var e=Object(j.a)(d.a.mark((function e(r){var c,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.interface.parseLog(r),o=new O.BigNumber(s.values.domainId),e.next=4,Object(m.getBlockTime)(t,null!==(c=r.blockHash)&&void 0!==c?c:"");case 4:return i=e.sent,e.abrupt("return",{id:"DomainAdded-".concat(r.blockHash,"-").concat(r.logIndex),colonyAddress:r.address,eventType:a.DomainAdded,domainId:o.toString(),logTime:i});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();!function(e){e[e.ColonyInitialised=0]="ColonyInitialised",e[e.ColonyRoleSet=1]="ColonyRoleSet",e[e.PayoutClaimed=2]="PayoutClaimed",e[e.DomainAdded=3]="DomainAdded"}(a||(a={}));var C=Object(v.b)("event/getEventLogs",Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),I=Object(v.c)({name:"event",initialState:{events:[]},reducers:{},extraReducers:function(e){e.addCase(C.fulfilled,(function(e,n){e.events=n.payload}))}}).reducer,A=t(7),_=t(31),L=t(4),T=t.n(L),D=t(0),P=function(e){return Object(D.jsx)("ol",Object(A.a)(Object(A.a)({},e),{},{className:[T.a.itemListContainer,e.className].join(" "),children:e.children}))},E=t(56),B=t.n(E),S=t(175),R=t.n(S),F=function(e){return R()(e).format("DD MMM")},H=["event"],M=["event"],W=["event"],z=["event"],J=["event"],U=function(e){var n=e.event,t=Object(_.a)(e,H);return Object(D.jsxs)("li",Object(A.a)(Object(A.a)({},t),{},{className:T.a.eventItem,children:[Object(D.jsx)("div",{className:T.a.avatar,children:Object(D.jsx)(B.a,{seed:n.colonyAddress})}),Object(D.jsxs)("div",{className:T.a.content,children:[Object(D.jsx)("div",{className:T.a.primary,children:Object(D.jsx)("span",{children:"Congratulations! It's a beautiful baby colony!"})}),Object(D.jsx)("div",{className:T.a.secondary,children:F(n.logTime)})]})]}))},Y=function(e){var n=e.event,t=Object(_.a)(e,M);return Object(D.jsxs)("li",Object(A.a)(Object(A.a)({},t),{},{className:T.a.eventItem,children:[Object(D.jsx)("div",{className:T.a.avatar,children:Object(D.jsx)(B.a,{seed:n.userAddress})}),Object(D.jsxs)("div",{className:T.a.content,children:[Object(D.jsxs)("div",{className:T.a.primary,children:[Object(D.jsx)("span",{className:T.a.heavy,children:n.role}),Object(D.jsx)("span",{children:" role assigned to user "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.userAddress}),Object(D.jsx)("span",{children:" in domain "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.domainId}),Object(D.jsx)("span",{children:"."})]}),Object(D.jsx)("div",{className:T.a.secondary,children:F(n.logTime)})]})]}))},q=function(e){var n=e.event,t=Object(_.a)(e,W);return Object(D.jsxs)("li",Object(A.a)(Object(A.a)({},t),{},{className:T.a.eventItem,children:[Object(D.jsx)("div",{className:T.a.avatar,children:Object(D.jsx)(B.a,{seed:n.userAddress})}),Object(D.jsxs)("div",{className:T.a.content,children:[Object(D.jsxs)("div",{className:T.a.primary,children:[Object(D.jsx)("span",{children:"User "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.userAddress}),Object(D.jsx)("span",{children:" claimed "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.amount}),Object(D.jsx)("span",{className:T.a.heavy,children:n.token}),Object(D.jsx)("span",{children:" payout from pot "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.fundingPotId}),Object(D.jsx)("span",{children:"."})]}),Object(D.jsx)("div",{className:T.a.secondary,children:F(n.logTime)})]})]}))},G=function(e){var n=e.event,t=Object(_.a)(e,z);return Object(D.jsxs)("li",Object(A.a)(Object(A.a)({},t),{},{className:T.a.eventItem,children:[Object(D.jsx)("div",{className:T.a.avatar,children:Object(D.jsx)(B.a,{seed:n.colonyAddress})}),Object(D.jsxs)("div",{className:T.a.content,children:[Object(D.jsxs)("div",{className:T.a.primary,children:[Object(D.jsx)("span",{children:"Domain "}),Object(D.jsx)("span",{className:T.a.heavy,children:n.domainId}),Object(D.jsx)("span",{children:" added."})]}),Object(D.jsx)("div",{className:T.a.secondary,children:F(n.logTime)})]})]}))},V=function(e){var n=e.event,t=Object(_.a)(e,J);switch(null===n||void 0===n?void 0:n.eventType){case a.ColonyInitialised:return Object(D.jsx)(U,Object(A.a)(Object(A.a)({},t),{},{event:n}));case a.ColonyRoleSet:return Object(D.jsx)(Y,Object(A.a)(Object(A.a)({},t),{},{event:n}));case a.PayoutClaimed:return Object(D.jsx)(q,Object(A.a)(Object(A.a)({},t),{},{event:n}));case a.DomainAdded:return Object(D.jsx)(G,Object(A.a)(Object(A.a)({},t),{},{event:n}));default:return null}},$=["events"],K=function(e){var n=e.events,t=void 0===n?[]:n,a=Object(_.a)(e,$);return Object(D.jsx)(P,Object(A.a)(Object(A.a)({},a),{},{children:t.map((function(e){return Object(D.jsx)(V,{event:e},"event-".concat(e.id))}))}))},Q=t(176),X=t.n(Q),Z=function(){var e=Object(i.b)(),n=u((function(e){var n;return null!==(n=e.event.events)&&void 0!==n?n:[]}));return Object(r.useEffect)((function(){e(C())}),[e]),Object(D.jsx)("div",{className:X.a.app,children:Object(D.jsx)(K,{events:n})})},ee=Object(v.a)({reducer:{event:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(i.a,{store:ee,children:Object(D.jsx)(Z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,n,t){e.exports={itemListContainer:"EventList_itemListContainer__2xiFf",eventItem:"EventList_eventItem__3NqkL",avatar:"EventList_avatar__2DzFu",content:"EventList_content__2MkSR",primary:"EventList_primary__2GtUR",secondary:"EventList_secondary__3YDjV",heavy:"EventList_heavy__3MwtL"}}},[[364,1,2]]]);
//# sourceMappingURL=main.ef5a506e.chunk.js.map